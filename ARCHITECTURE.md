# Technical Architecture - Competitor Price Monitor

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        COMPETITOR PRICE MONITOR                         â”‚
â”‚                     Real-time Price Tracking System                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## High-Level Architecture

```mermaid
graph TB
    subgraph "External Sources"
        A[Competitor Websites]
    end

    subgraph "Scraping Layer"
        B[Playwright Browser]
        C[CSS Selectors]
        D[Price Parser]
    end

    subgraph "Processing Layer"
        E[Scheduler Service]
        F[Price Scraper]
        G[Change Detector]
    end

    subgraph "Storage Layer"
        H[(SQLite Database)]
        I[Price History]
        J[Product Catalog]
    end

    subgraph "Notification Layer"
        K[Telegram Bot API]
        L[Alert Formatter]
    end

    subgraph "Logging Layer"
        M[Console Logger]
        N[File Logger]
    end

    A -->|HTTP/HTTPS| B
    B --> C
    C --> D
    D --> F
    E -->|Triggers| F
    F --> G
    G -->|Compare| H
    G -->|Save| H
    H --> I
    H --> J
    G -->|Price Changed| L
    L --> K
    K -->|Alert| O[Telegram User]
    F --> M
    F --> N

    style A fill:#e1f5ff
    style H fill:#fff3cd
    style K fill:#d4edda
    style M fill:#f8d7da
```

## Detailed Component Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              INPUT LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚  Configuration   â”‚      â”‚   Environment    â”‚                       â”‚
â”‚  â”‚  (YAML/JSON)     â”‚      â”‚   Variables      â”‚                       â”‚
â”‚  â”‚                  â”‚      â”‚   (.env)         â”‚                       â”‚
â”‚  â”‚  â€¢ Product URLs  â”‚      â”‚  â€¢ API Keys      â”‚                       â”‚
â”‚  â”‚  â€¢ Selectors     â”‚      â”‚  â€¢ Bot Tokens    â”‚                       â”‚
â”‚  â”‚  â€¢ Competitors   â”‚      â”‚  â€¢ Chat IDs      â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ORCHESTRATION LAYER                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Scheduler Service                              â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  Modes:                                                           â”‚  â”‚
â”‚  â”‚  â€¢ --once      (Single execution)                                 â”‚  â”‚
â”‚  â”‚  â€¢ --daemon    (Continuous monitoring with interval)              â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  Flow:                                                            â”‚  â”‚
â”‚  â”‚  1. Initialize database                                           â”‚  â”‚
â”‚  â”‚  2. Load configuration                                            â”‚  â”‚
â”‚  â”‚  3. Trigger scrape cycle                                          â”‚  â”‚
â”‚  â”‚  4. Process results                                               â”‚  â”‚
â”‚  â”‚  5. Send notifications                                            â”‚  â”‚
â”‚  â”‚  6. Sleep (daemon mode) or Exit (once mode)                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SCRAPING LAYER                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    Price Scraper Engine                         â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚   Browser    â”‚â”€â”€â”€â”€â”€â”€â–¶   Selector   â”‚â”€â”€â”€â”€â”€â”€â–¶   Parser    â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  (Playwright)â”‚      â”‚   Matching   â”‚      â”‚  (Regex)    â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚         â”‚                      â”‚                      â”‚        â”‚    â”‚
â”‚  â”‚         â–¼                      â–¼                      â–¼        â”‚    â”‚
â”‚  â”‚  â€¢ Headless mode        â€¢ CSS selectors       â€¢ Price clean   â”‚    â”‚
â”‚  â”‚  â€¢ User-agent           â€¢ Multiple tries      â€¢ Currency      â”‚    â”‚
â”‚  â”‚  â€¢ Wait for load        â€¢ Fallback logic      â€¢ Validation    â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚  Output:                                                       â”‚    â”‚
â”‚  â”‚  {                                                             â”‚    â”‚
â”‚  â”‚    "product_id": "book-1",                                     â”‚    â”‚
â”‚  â”‚    "price": 51.77,                                             â”‚    â”‚
â”‚  â”‚    "currency": "USD",                                          â”‚    â”‚
â”‚  â”‚    "success": true,                                            â”‚    â”‚
â”‚  â”‚    "error": null                                               â”‚    â”‚
â”‚  â”‚  }                                                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       DATA PROCESSING LAYER                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                  Change Detection Logic                         â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚  1. Fetch latest price from database                           â”‚    â”‚
â”‚  â”‚  2. Compare with newly scraped price                           â”‚    â”‚
â”‚  â”‚  3. Calculate change percentage                                â”‚    â”‚
â”‚  â”‚  4. Apply threshold filter (if configured)                     â”‚    â”‚
â”‚  â”‚  5. Determine change type:                                     â”‚    â”‚
â”‚  â”‚     â€¢ new_product    (first time seeing this product)          â”‚    â”‚
â”‚  â”‚     â€¢ price_up       (price increased)                         â”‚    â”‚
â”‚  â”‚     â€¢ price_down     (price decreased)                         â”‚    â”‚
â”‚  â”‚     â€¢ no_change      (price unchanged)                         â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚  Output:                                                        â”‚    â”‚
â”‚  â”‚  {                                                              â”‚    â”‚
â”‚  â”‚    "type": "price_change",                                      â”‚    â”‚
â”‚  â”‚    "old_price": 52.00,                                          â”‚    â”‚
â”‚  â”‚    "new_price": 51.77,                                          â”‚    â”‚
â”‚  â”‚    "change_percent": -0.44,                                     â”‚    â”‚
â”‚  â”‚    "direction": "down"                                          â”‚    â”‚
â”‚  â”‚  }                                                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          STORAGE LAYER                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    SQLite Database                              â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚  Table: prices                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚  Column            â”‚ Type      â”‚ Description             â”‚  â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚    â”‚
â”‚  â”‚  â”‚  id                â”‚ INTEGER   â”‚ Primary key             â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  competitor_name   â”‚ TEXT      â”‚ Source website          â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  product_id        â”‚ TEXT      â”‚ Product identifier      â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  product_name      â”‚ TEXT      â”‚ Product name            â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  price             â”‚ REAL      â”‚ Numeric price           â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  currency          â”‚ TEXT      â”‚ USD/EUR/GBP             â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  stock_status      â”‚ TEXT      â”‚ In stock/Out of stock   â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  url               â”‚ TEXT      â”‚ Product page URL        â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  scraped_at        â”‚ TIMESTAMP â”‚ Scrape time             â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚  Indexes:                                                       â”‚    â”‚
â”‚  â”‚  â€¢ idx_product_id  (for fast lookups)                          â”‚    â”‚
â”‚  â”‚  â€¢ idx_scraped_at  (for time-based queries)                    â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚  Operations:                                                    â”‚    â”‚
â”‚  â”‚  â€¢ save_price()          - Insert new record                   â”‚    â”‚
â”‚  â”‚  â€¢ get_latest_price()    - Fetch most recent                   â”‚    â”‚
â”‚  â”‚  â€¢ get_price_history()   - Historical data                     â”‚    â”‚
â”‚  â”‚  â€¢ detect_price_change() - Compare and analyze                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      NOTIFICATION LAYER                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                  Telegram Bot Integration                       â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚    â”‚
â”‚  â”‚  â”‚ Alert Formatter  â”‚                                          â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                          â”‚    â”‚
â”‚  â”‚  â”‚ Template:        â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚                  â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚ ğŸ“‰ PRICE DROP    â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚                  â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚ Product: Book 1  â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚ Competitor: ABC  â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚                  â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚ Old: $52.00      â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚ New: $51.77      â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚ Change: -0.44%   â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚                  â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚ [View Product]   â”‚                                          â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚    â”‚
â”‚  â”‚           â”‚                                                     â”‚    â”‚
â”‚  â”‚           â–¼                                                     â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚    â”‚
â”‚  â”‚  â”‚  Telegram API    â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚  POST /sendMessage                                          â”‚    â”‚
â”‚  â”‚  â”‚                  â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚  {               â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚    "chat_id": "...",                                        â”‚    â”‚
â”‚  â”‚  â”‚    "text": "...",                                           â”‚    â”‚
â”‚  â”‚  â”‚    "parse_mode": "Markdown"                                 â”‚    â”‚
â”‚  â”‚  â”‚  }               â”‚                                          â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚    â”‚
â”‚  â”‚           â”‚                                                     â”‚    â”‚
â”‚  â”‚           â–¼                                                     â”‚    â”‚
â”‚  â”‚    [User's Phone]                                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         LOGGING LAYER                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      Console Logger            â”‚       File Logger                â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                â”‚                                  â”‚ â”‚
â”‚  â”‚  â€¢ Colorama for colors         â”‚  â€¢ Daily rotation                â”‚ â”‚
â”‚  â”‚  â€¢ Unicode icons (âœ“ âš  âœ—)       â”‚  â€¢ UTF-8 encoding                â”‚ â”‚
â”‚  â”‚  â€¢ Real-time feedback          â”‚  â€¢ Full stack traces             â”‚ â”‚
â”‚  â”‚  â€¢ User-friendly format        â”‚  â€¢ Timestamps                    â”‚ â”‚
â”‚  â”‚                                â”‚  â€¢ DEBUG level details           â”‚ â”‚
â”‚  â”‚  Output:                       â”‚                                  â”‚ â”‚
â”‚  â”‚  [2026-01-28 00:51:41]         â”‚  File: logs/price_monitor_*.log  â”‚ â”‚
â”‚  â”‚  [INFO] âœ“ Scraping...          â”‚  Format: [time][level][msg]      â”‚ â”‚
â”‚  â”‚                                â”‚                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  START   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Load Configuration              â”‚
â”‚ â€¢ Read YAML (competitors)       â”‚
â”‚ â€¢ Read .env (credentials)       â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Initialize Database             â”‚
â”‚ â€¢ Create tables if not exist    â”‚
â”‚ â€¢ Create indexes                â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ For Each Competitor:            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ For Each Product:        â”‚    â”‚
â”‚ â”‚ â”œâ”€ Launch Browser        â”‚    â”‚
â”‚ â”‚ â”œâ”€ Navigate to URL       â”‚    â”‚
â”‚ â”‚ â”œâ”€ Extract Price         â”‚    â”‚
â”‚ â”‚ â”œâ”€ Parse & Validate      â”‚    â”‚
â”‚ â”‚ â””â”€ Return Result         â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Process Each Result:            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Fetch last price from DB â”‚    â”‚
â”‚ â”‚         â–¼                â”‚    â”‚
â”‚ â”‚ Compare new vs old       â”‚    â”‚
â”‚ â”‚         â–¼                â”‚    â”‚
â”‚ â”‚ Calculate % change       â”‚    â”‚
â”‚ â”‚         â–¼                â”‚    â”‚
â”‚ â”‚ Save to database         â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â–¼          â–¼              â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ No   â”‚  â”‚ Price  â”‚   â”‚  New     â”‚
  â”‚Changeâ”‚  â”‚Changed â”‚   â”‚ Product  â”‚
  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                â”‚              â”‚
                â–¼              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Format Notification      â”‚
         â”‚ â€¢ Product details        â”‚
         â”‚ â€¢ Price comparison       â”‚
         â”‚ â€¢ % change               â”‚
         â”‚ â€¢ Product URL            â”‚
         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Send to Telegram         â”‚
         â”‚ â€¢ Bot API call           â”‚
         â”‚ â€¢ Markdown formatting    â”‚
         â”‚ â€¢ Retry on failure       â”‚
         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Log Activity             â”‚
         â”‚ â€¢ Console (colored)      â”‚
         â”‚ â€¢ File (detailed)        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Mode Check               â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ --once   â”‚   --daemon    â”‚
         â–¼          â–¼               â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
      â”‚ EXIT â”‚  â”‚ Sleep  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â””â”€â”€â”€â”€â”€â”€â”˜  â”‚intervalâ”‚
                â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                    â”‚
                    â””â”€â”€â–º (Loop back to "For Each Competitor")
```

## Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     TECHNOLOGY STACK                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Language & Runtime:                                        â”‚
â”‚  â€¢ Python 3.12+                                             â”‚
â”‚                                                             â”‚
â”‚  Web Scraping:                                              â”‚
â”‚  â€¢ Playwright (browser automation)                          â”‚
â”‚  â€¢ Chromium (headless browser)                              â”‚
â”‚                                                             â”‚
â”‚  HTTP Client:                                               â”‚
â”‚  â€¢ httpx (async/sync HTTP)                                  â”‚
â”‚                                                             â”‚
â”‚  Database:                                                  â”‚
â”‚  â€¢ SQLite (embedded database)                               â”‚
â”‚  â€¢ Built-in Python support                                  â”‚
â”‚                                                             â”‚
â”‚  Messaging:                                                 â”‚
â”‚  â€¢ Telegram Bot API                                         â”‚
â”‚  â€¢ HTTPS REST endpoints                                     â”‚
â”‚                                                             â”‚
â”‚  Configuration:                                             â”‚
â”‚  â€¢ python-dotenv (environment variables)                    â”‚
â”‚  â€¢ PyYAML (YAML parsing)                                    â”‚
â”‚                                                             â”‚
â”‚  Logging:                                                   â”‚
â”‚  â€¢ Python logging module                                    â”‚
â”‚  â€¢ colorama (cross-platform colors)                         â”‚
â”‚                                                             â”‚
â”‚  Deployment:                                                â”‚
â”‚  â€¢ Docker (containerization)                                â”‚
â”‚  â€¢ Docker Compose (orchestration)                           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Deployment Architectures

### Local Development
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Developer Machine         â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Python 3.12+        â”‚   â”‚
â”‚  â”‚  â”œâ”€ Virtual Env      â”‚   â”‚
â”‚  â”‚  â”œâ”€ Dependencies     â”‚   â”‚
â”‚  â”‚  â””â”€ Playwright       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                 â”‚
â”‚           â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Application         â”‚   â”‚
â”‚  â”‚  â”œâ”€ /execution       â”‚   â”‚
â”‚  â”‚  â”œâ”€ /config          â”‚   â”‚
â”‚  â”‚  â””â”€ /data            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Docker Deployment
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Docker Host                     â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Container: price-monitor         â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Application Layer          â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Python runtime           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Dependencies             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Playwright + Chromium    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  Volumes:                         â”‚  â”‚
â”‚  â”‚  â€¢ /app/data  â†’ ./data            â”‚  â”‚
â”‚  â”‚  â€¢ /app/logs  â†’ ./logs            â”‚  â”‚
â”‚  â”‚  â€¢ /app/config â†’ ./config         â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  Environment:                     â”‚  â”‚
â”‚  â”‚  â€¢ From .env file                 â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  Network:                         â”‚  â”‚
â”‚  â”‚  â€¢ Bridge mode                    â”‚  â”‚
â”‚  â”‚  â€¢ Outbound only                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Cloud Deployment (AWS/GCP/Azure)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Cloud Provider                       â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Container Service (ECS/Cloud Run/ACI)           â”‚   â”‚
â”‚  â”‚                                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  price-monitor:latest                      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  Resources:                                â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ CPU: 1 vCPU                             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Memory: 1GB                             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Storage: 10GB (persistent)              â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                  â”‚   â”‚
â”‚  â”‚  Secrets Manager:                                â”‚   â”‚
â”‚  â”‚  â€¢ TELEGRAM_BOT_TOKEN                            â”‚   â”‚
â”‚  â”‚  â€¢ TELEGRAM_CHAT_ID                              â”‚   â”‚
â”‚  â”‚                                                  â”‚   â”‚
â”‚  â”‚  Scheduling:                                     â”‚   â”‚
â”‚  â”‚  â€¢ CloudWatch Events / Cloud Scheduler           â”‚   â”‚
â”‚  â”‚  â€¢ Cron: */30 * * * * (every 30 min)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SECURITY LAYERS                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  1. Secrets Management:                                 â”‚
â”‚     â€¢ .env file (never committed)                       â”‚
â”‚     â€¢ Environment variables only                        â”‚
â”‚     â€¢ No hardcoded credentials                          â”‚
â”‚                                                         â”‚
â”‚  2. Network Security:                                   â”‚
â”‚     â€¢ HTTPS only for all external calls                 â”‚
â”‚     â€¢ Bot API over TLS                                  â”‚
â”‚     â€¢ No incoming ports required                        â”‚
â”‚                                                         â”‚
â”‚  3. Container Security (Docker):                        â”‚
â”‚     â€¢ Non-root user (appuser:1000)                      â”‚
â”‚     â€¢ Read-only filesystem (except volumes)             â”‚
â”‚     â€¢ Minimal base image (python:3.12-slim)             â”‚
â”‚     â€¢ No unnecessary packages                           â”‚
â”‚                                                         â”‚
â”‚  4. Data Security:                                      â”‚
â”‚     â€¢ SQLite with file permissions                      â”‚
â”‚     â€¢ No PII storage                                    â”‚
â”‚     â€¢ Logs exclude sensitive data                       â”‚
â”‚                                                         â”‚
â”‚  5. Access Control:                                     â”‚
â”‚     â€¢ Telegram chat_id whitelist                        â”‚
â”‚     â€¢ Bot token authentication                          â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance Characteristics

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PERFORMANCE METRICS                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Scraping Speed:                                        â”‚
â”‚  â€¢ Text-based site: ~2-5 seconds per product            â”‚
â”‚  â€¢ JavaScript-heavy: ~5-10 seconds per product          â”‚
â”‚  â€¢ With images: +2 seconds                              â”‚
â”‚                                                         â”‚
â”‚  Database Operations:                                   â”‚
â”‚  â€¢ INSERT: <1ms                                         â”‚
â”‚  â€¢ SELECT (indexed): <1ms                               â”‚
â”‚  â€¢ History query (100 records): ~5ms                    â”‚
â”‚                                                         â”‚
â”‚  Memory Usage:                                          â”‚
â”‚  â€¢ Idle: ~50MB                                          â”‚
â”‚  â€¢ Browser active: ~200-500MB                           â”‚
â”‚  â€¢ Peak: ~800MB                                         â”‚
â”‚                                                         â”‚
â”‚  CPU Usage:                                             â”‚
â”‚  â€¢ Idle: <1%                                            â”‚
â”‚  â€¢ Scraping: 10-30%                                     â”‚
â”‚                                                         â”‚
â”‚  Network:                                               â”‚
â”‚  â€¢ Per scrape: ~100KB-2MB (depends on page)             â”‚
â”‚  â€¢ Telegram notification: ~1-5KB                        â”‚
â”‚                                                         â”‚
â”‚  Scalability:                                           â”‚
â”‚  â€¢ Supported products: 1,000+                           â”‚
â”‚  â€¢ Concurrent scrapes: 5-10 (browser pool)              â”‚
â”‚  â€¢ Database size: Unlimited (SQLite handles GB+)        â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Error Handling & Resilience

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ERROR HANDLING STRATEGY                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Scraping Errors:                                       â”‚
â”‚  â”œâ”€ Timeout â†’ Retry 3x with backoff                     â”‚
â”‚  â”œâ”€ Selector not found â†’ Try fallback selectors         â”‚
â”‚  â”œâ”€ Parse error â†’ Log and skip, continue with next      â”‚
â”‚  â””â”€ Network error â†’ Retry with exponential backoff      â”‚
â”‚                                                         â”‚
â”‚  Database Errors:                                       â”‚
â”‚  â”œâ”€ Connection error â†’ Retry 3x                         â”‚
â”‚  â”œâ”€ Constraint violation â†’ Log and skip                 â”‚
â”‚  â””â”€ Disk full â†’ Alert via Telegram                      â”‚
â”‚                                                         â”‚
â”‚  Notification Errors:                                   â”‚
â”‚  â”œâ”€ API timeout â†’ Retry 3x                              â”‚
â”‚  â”œâ”€ Rate limit â†’ Wait and retry                         â”‚
â”‚  â”œâ”€ Invalid token â†’ Fatal error, stop daemon            â”‚
â”‚  â””â”€ Network error â†’ Queue for later                     â”‚
â”‚                                                         â”‚
â”‚  Logging:                                               â”‚
â”‚  â”œâ”€ Console error â†’ Fallback to stderr                  â”‚
â”‚  â”œâ”€ File write error â†’ Continue with console only       â”‚
â”‚  â””â”€ Disk full â†’ Rotate old logs                         â”‚
â”‚                                                         â”‚
â”‚  Recovery:                                              â”‚
â”‚  â”œâ”€ Graceful shutdown on SIGTERM/SIGINT                 â”‚
â”‚  â”œâ”€ State saved to database (no in-memory loss)         â”‚
â”‚  â””â”€ Resume on restart (stateless design)                â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
